FindPlugin
==========

The FindPlugin is a gedit plugin that search multiple files to find
text that matches the requested patten.

The plugin, like the gedit.Plugin object it descends from does not
require any parameters during initialization.

    >>> from findplugin import FindPlugin
    >>> plugin = FindPlugin()
    >>> plugin
    <FindPlugin object at ... (GObject at ...)>


Gedit plugin API part 1
-----------------------

APIs for starting and using the plugin.


activate()
~~~~~~~~~~

Whenever a new gedit window is created the activate() method of the
plugin is called with one argument, the gedit.Window. The plugin
creates the FindController, and binds it and the window to itself.
It also adds the controller to the view.

    >>> from testing.gedithelpers import get_window
    >>> import gtk
    >>> import gedit
    >>> window, view, document = get_window('plugins/gdp/data/snark12.txt')
    >>> plugin.activate(window)
    >>> plugin.window is window
    True
    >>> plugin.controller
    <gdp.find.FindController object at ...>

The 'Find in files' item was created and added to the Search menu in
the UI.

    >>> plugin.action_group.get_action('FindFiles').get_property('label')
    'Find i_n files...'
    >>> plugin.ui_id
    2


update_ui()
~~~~~~~~~~~

Nothing happen with update_ui() is called. The menu it is valid for
the Gedit Window; the Gedit Document is not important.

    >>> plugin.update_ui(window)


callbacks
---------

The FindPlugin provides a callback for the 'Find in files' menu item.


on_find_files
~~~~~~~~~~~~~

The bottom pane is displayed with the 'Find in files' dialog when
on_find_file() is called.

    >>> plugin.on_find_files(None)


Gedit plugin API part 2
-----------------------

APIs for removing the plugin.


deactivate()
~~~~~~~~~~~~

When a window is destroyed the deactivate function is called by the
app, passing the window to the function. The plugin unbinds the
controller from the views, then removes its own bindings to the window
and the controller.

    >>> plugin.deactivate(window)
    >>> literal(plugin.ui_id)
    None
    >>> literal(plugin.action_group)
    None
    >>> literal(plugin.controller)
    None

    >>> literal(plugin.window)
    None

Tear down
---------

gtksouceview2.View is not destroying itself. Call this manually.

    >>> view.destroy()

